{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\Bhimkatta-20240216T072757Z-001\\\\Bhimkatta\\\\client\\\\client\\\\components\\\\post\\\\post-summary\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport formatDistanceToNowStrict from 'date-fns/formatDistanceToNowStrict';\nimport { AuthContext } from '../../../store/auth';\nimport { FetchContext } from '../../../store/fetch';\nimport Tag from '../../tag';\nimport styles from './post-summary.module.css';\nconst PostSummary = ({\n  tags,\n  author,\n  created,\n  questionId,\n  answerId,\n  setQuestion,\n  children\n}) => {\n  var _authState$userInfo;\n  const {\n    authState,\n    isAdmin\n  } = useContext(AuthContext);\n  const {\n    authAxios\n  } = useContext(FetchContext);\n  const router = useRouter();\n  const handleDeleteComment = async () => {\n    const res = window.confirm('Are you sure delete your post?');\n    if (res) {\n      const {\n        data\n      } = await authAxios.delete(answerId ? `/answer/${questionId}/${answerId}` : `/question/${questionId}`);\n      if (answerId) {\n        setQuestion(data);\n      } else {\n        router.push('/');\n      }\n    }\n  };\n  return __jsx(\"div\", {\n    className: styles.postCell,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, children), __jsx(\"div\", {\n    className: styles.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.tagContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, tags === null || tags === void 0 ? void 0 : tags.map(tag => __jsx(Tag, {\n    key: tag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, tag))), __jsx(\"div\", {\n    className: styles.userDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/users/[user]\",\n    as: `/users/${author.username}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: `https://secure.gravatar.com/avatar/${author.id}?s=32&d=identicon`,\n    alt: author.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }))), __jsx(\"div\", {\n    className: styles.info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, tags ? 'asked' : 'answered', ' ', formatDistanceToNowStrict(new Date(created), {\n    addSuffix: true\n  })), __jsx(Link, {\n    href: \"/users/[user]\",\n    as: `/users/${author.username}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, author.username))))), (((_authState$userInfo = authState.userInfo) === null || _authState$userInfo === void 0 ? void 0 : _authState$userInfo.id) === author.id || isAdmin()) && __jsx(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    className: styles.delete,\n    onClick: () => handleDeleteComment(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"delete\"))));\n};\nexport default PostSummary;","map":{"version":3,"names":["React","useContext","useRouter","Link","formatDistanceToNowStrict","AuthContext","FetchContext","Tag","styles","PostSummary","tags","author","created","questionId","answerId","setQuestion","children","_authState$userInfo","authState","isAdmin","authAxios","router","handleDeleteComment","res","window","confirm","data","delete","push","__jsx","className","postCell","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","text","footer","row","tagContainer","map","tag","key","userDetails","href","as","username","src","id","alt","info","Date","addSuffix","userInfo","onClick"],"sources":["C:/Users/HP/Downloads/Bhimkatta-20240216T072757Z-001/Bhimkatta/client/client/components/post/post-summary/index.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport formatDistanceToNowStrict from 'date-fns/formatDistanceToNowStrict'\n\nimport { AuthContext } from '../../../store/auth'\nimport { FetchContext } from '../../../store/fetch'\n\nimport Tag from '../../tag'\n\nimport styles from './post-summary.module.css'\n\nconst PostSummary = ({\n  tags,\n  author,\n  created,\n  questionId,\n  answerId,\n  setQuestion,\n  children\n}) => {\n  const { authState, isAdmin } = useContext(AuthContext)\n  const { authAxios } = useContext(FetchContext)\n  const router = useRouter()\n\n  const handleDeleteComment = async () => {\n    const res = window.confirm('Are you sure delete your post?')\n    if (res) {\n      const { data } = await authAxios.delete(\n        answerId\n          ? `/answer/${questionId}/${answerId}`\n          : `/question/${questionId}`\n      )\n\n      if (answerId) {\n        setQuestion(data)\n      } else {\n        router.push('/')\n      }\n    }\n  }\n\n  return (\n    <div className={styles.postCell}>\n      <div className={styles.text}>{children}</div>\n      <div className={styles.footer}>\n        <div className={styles.row}>\n          <div className={styles.tagContainer}>\n            {tags?.map((tag) => (\n              <Tag key={tag}>{tag}</Tag>\n            ))}\n          </div>\n          <div className={styles.userDetails}>\n            <Link href=\"/users/[user]\" as={`/users/${author.username}`}>\n              <a>\n                <img\n                  src={`https://secure.gravatar.com/avatar/${author.id}?s=32&d=identicon`}\n                  alt={author.username}\n                />\n              </a>\n            </Link>\n            <div className={styles.info}>\n              <span>\n                {tags ? 'asked' : 'answered'}{' '}\n                {formatDistanceToNowStrict(new Date(created), {\n                  addSuffix: true\n                })}\n              </span>\n              <Link href=\"/users/[user]\" as={`/users/${author.username}`}>\n                <a>{author.username}</a>\n              </Link>\n            </div>\n          </div>\n        </div>\n        {(authState.userInfo?.id === author.id || isAdmin()) && (\n          <div className={styles.row}>\n            <a className={styles.delete} onClick={() => handleDeleteComment()}>\n              delete\n            </a>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default PostSummary\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}